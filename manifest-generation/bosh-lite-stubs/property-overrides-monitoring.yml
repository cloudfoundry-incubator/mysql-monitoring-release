properties:
  mysql-monitoring:
    client:
      username: mysql-monitoring
      secret: REPLACE_WITH_CLIENT_SECRET
    recipient_email: REPLACE_WITH_EMAIL
    replication-canary:
      canary_database: repcanary
      canary_username: repcanary
      canary_password: REPLACE_WITH_REPCANARY_PASSWORD
      read_ips:
      - 10.244.7.2
      - 10.244.8.2
      - 10.244.9.2
      write_host: 10.244.7.3
      mysql_port: 3306
      notifications_client_username: mysql-monitoring
      notifications_client_secret: REPLACE_WITH_CLIENT_SECRET
      canary_alert_to: notifications-bosh-lite@core-services-bosh-lite.cf-app.com
  ssl:
    skip_ssl_validation: true

property_overrides:
  <<: (( merge ))
  broker:
    <<: (( merge ))
    quota_enforcer:
      <<: (( merge ))
      ignored_users:
      - (( properties.mysql-monitoring.replication-canary.canary_username ))
  mysql:
    <<: (( merge ))
    interrupt_notify_cmd: "/var/vcap/jobs/send-email/bin/run"
    seeded_databases:
    - name: (( properties.mysql-monitoring.replication-canary.canary_database ))
      username: (( properties.mysql-monitoring.replication-canary.canary_username ))
      password: (( properties.mysql-monitoring.replication-canary.canary_password ))
    server_audit_excluded_users:
    - (( properties.mysql-monitoring.replication-canary.canary_username ))

