---
name: replication-canary

templates:
  replication-canary_ctl.sh.erb: bin/replication-canary_ctl
  replication-canary.yml.erb: config/replication-canary.yml

packages:
- cf-mysql-common
- replication-canary

properties:
  cf_mysql.mysql.cluster_ips:
    description: 'List of IP addresses of servers used to read data from'
  cf_mysql.mysql.port:
    description: 'Database port for contacting mysql'
    default: 3306

  mysql-monitoring.replication-canary.canary_database:
    description: 'Canary database'
    default: 'canary_db'
  mysql-monitoring.replication-canary.canary_username:
    description: 'Canary username'
    default: 'repcanary'
  mysql-monitoring.replication-canary.canary_password:
    description: 'Canary user password'
  mysql-monitoring.replication-canary.write_host:
    description: 'Host to write data to'
